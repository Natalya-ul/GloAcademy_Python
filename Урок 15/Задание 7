import random

def update_user_word(secret_word, user_word, char):
    new_user_word = ''
    for i in range(len(secret_word)):
        if secret_word[i] == char:
            new_user_word += char
        else:
            new_user_word += user_word[i]
    return new_user_word

def ask_question(question):
    print(question, 'Введите Да или Нет.')
    answer = input().lower()
    while answer != 'да' and answer != 'нет':
        print('Ответ некорректный! Возможные варианты ввода: Да или Нет')
        answer = input().lower()
    if answer == 'да':
        return True
    else:
        return False
    
russian_lowercase_letters = 'абвгдежзиклмнопрстуфхцчшщъыьэюя'
secret_questions_list = ['Белый нагрудник на мужской сорочке', 'Единственное ядовитое млекопитающее в мире', 'Какая трава была названа индейцами «следом белого человека»', 'Противовес «естественного отбора», созданный человеком']
secret_answers_list = ['манишка', 'утконос', 'подорожник', 'селекция']
    
while True:
    print('Добро пожаловать в игру "Поле чудес"! Вам необходимо угадать слово.')
    secret_word_number = random.randint(0, len(secret_questions_list) - 1)
    secret_question = secret_questions_list[secret_word_number]
    secret_word = secret_answers_list[secret_word_number]
    
    print(f'Вопрос. {secret_question}')
    
    user_word = '*' * len(secret_word)
    print(user_word)
    counter = 0
    while user_word != secret_word:
        print('Введите букву:')
        user_char = input().lower()
        if len(user_char) != 1 or not user_char in russian_lowercase_letters:
            print('Ошибка ввода! Введите одну букву русского алфавита.')
            continue
        if user_char in user_word:
            print('Данная буква уже была введена ранее. Введите другую букву.')
            continue
    
        new_user_word = update_user_word(secret_word, user_word, user_char)
        if user_word == new_user_word:
            print('К сожалению, такой буквы нет в слове.')
            counter += 1
        else:
            counter += 1            
            print('Поздравляю, такая буква есть в слове.')
    
        user_word = new_user_word
        
        print(user_word)
    
    print(f'Ура, вы угадали загаданное слово! Количество попыток: {counter}')
    print()
    
    if not ask_question('Хотите начать игру заново?'):
        break
