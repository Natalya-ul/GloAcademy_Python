import random

def int_valid(input_number):
    if input_number.isdigit():
        user_number = int(input_number)
        if user_number >= 1 and user_number <= 100:
            return True
        else:
            return False
    else:
        return False

def answer_valid(new_game_ans):
    if new_game_ans == 'yes' or new_game_ans == 'no':
        return True
    else:
        return False

while True:
    print('Добро пожаловать в игру "Угадай число"!')
    secret_number = random.randint(1, 100)
    counter = 0
    flag = 0
    while True:
        print(f'Введите число от 1 до 100:')
        input_number = input()
        if not int_valid(input_number):
            continue

        user_number = int(input_number)
        if secret_number > user_number:
            counter += 1
            print('Загаданное число больше, чем введенное вами число.')
        elif secret_number < user_number:
            counter += 1
            print('Загаданное число меньше, чем введенное вами число.')
        else:
            counter += 1
            print(f'Поздравляем! Вы угадали загаданное число. Кол-во попыток: {counter}')
            break
            
    print('Хотите начать новую игру? (введите "yes" или "no")')
    new_game = input()
    while not answer_valid(new_game):
        print('Хотите начать новую игру? (введите "yes" или "no")')
        new_game = input()
    if new_game == 'no':
        break

